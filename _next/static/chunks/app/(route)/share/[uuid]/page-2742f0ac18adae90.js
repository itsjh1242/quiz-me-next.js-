(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[961],{7378:function(t,e,r){Promise.resolve().then(r.bind(r,9378))},1316:function(t,e,r){"use strict";r.d(e,{$v:function(){return u},C3:function(){return s},C6:function(){return i},Vh:function(){return o},aL:function(){return a},rF:function(){return p}});var n=r(9842),c=r(18);let a=async()=>{try{let t=(0,n.hJ)(c.db,"quizzes");return(await (0,n.PL)(t)).docs.map(t=>t.id)}catch(t){console.error(t)}},i=async t=>{try{let e=(0,n.hJ)(c.db,"quizzes"),r=(0,n.IO)(e,(0,n.ar)("userName","==",t),(0,n.Xo)("timestamp","desc")),a=await (0,n.PL)(r),i=[];return a.forEach(t=>{i.push({id:t.id,...t.data()})}),i}catch(t){return console.error("Error getting documents: ",t),[]}},o=async t=>{try{let e=(0,n.JU)(c.db,"quizzes",t),r=await (0,n.QT)(e);if(r.exists())return{...r.data()};return null}catch(t){return console.error(t),null}},u=async t=>{try{let e=(0,n.hJ)(c.db,"participants/participantsCollection/".concat(t));return(await (0,n.PL)(e)).docs.map(t=>t.data())}catch(t){return console.error(t),null}},s=async t=>{try{let e=(0,n.JU)(c.db,"quizzes",t);return await (0,n.r7)(e,{available:!1}),!0}catch(t){return console.error(t),!1}},l=async t=>{try{let e=(0,n.JU)(c.db,"quizzes",t),r=(await (0,n.QT)(e)).data();r&&"number"==typeof r.participant?await (0,n.r7)(e,{participant:r.participant+1}):console.log("데이터베이스 파일 구조 오류")}catch(t){console.error(t)}},d=t=>{let e=0,r=Object.keys(t.quiz);return r.map(r=>{t.quiz[r].isCorrect&&(e+=1)}),{status:!0,totalQuestion:r.length,correctAnswer:e}},p=async t=>{let{quiz:e,participantName:r}=t,a=d(e),i={quiz:{...e},participantName:r,result:a};try{let t=(0,n.JU)(c.db,"participants/participantsCollection/".concat(e.id,"/").concat(r));return await (0,n.pl)(t,i),l(e.id),a}catch(t){return console.error(t),{status:!1,totalQuestion:0,correctAnswer:0}}}},9378:function(t,e,r){"use strict";r.d(e,{default:function(){return u}});var n=r(7437);r(2265);var c=r(6463),a=r(6804),i=r(4115),o=r(1316);!async function(){try{let t=await (0,o.aL)();if(t)t.map(t=>({uuid:t}))}catch(t){return console.error(t),[]}}();var u=t=>{let{uuid:e}=t,r=(0,c.useRouter)(),o=()=>{r.replace("/")};return(0,n.jsx)("div",{className:"min-h-screen bg-gray-100 flex flex-col items-center justify-center py-12 max-sm:px-2",children:(0,n.jsxs)("div",{className:"flex- flex-col w-1/3 max-sm:w-full p-6 max-sm:p-2 shadow-lg",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"퀴즈 공유"}),(0,n.jsx)("div",{className:"w-full p-3 bg-gray-200",children:"https://itsjh1242.github.io/quiz-me/quizzes/"+e}),(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"퀴즈가 만들어졌어요. 링크를 복사해서 친구들에게 공유해보세요!"}),(0,n.jsxs)("div",{className:"flex w-full gap-3 mt-3 justify-end items-center",children:[(0,n.jsx)(i.zx,{bg_color:"transparent",text_color:"text-black",method:()=>{o()},children:"닫기"}),(0,n.jsx)(i.zx,{className:"hover:bg-blue-600",method:()=>{(0,a.e)(e)},children:"링크 복사"})]})]})})}},4115:function(t,e,r){"use strict";r.d(e,{Qj:function(){return s},z:function(){return u},zx:function(){return o}});var n=r(7437),c=r(6273),a=r(7138),i=r(6804);let o=t=>{let{className:e,children:r,text_color:a,bg_color:o,method:u}=t;return(0,n.jsx)("button",{className:(0,c.cn)("px-6 py-3 ".concat(o||i.D.bg_color," ").concat(a||i.D.text_color," rounded-md transition"),e),onClick:u,children:r})},u=t=>{let{className:e,children:r,text_color:a,bg_color:o,method:u}=t;return(0,n.jsx)("button",{className:(0,c.cn)("px-6 py-3 ".concat(o||i.D.bg_color," ").concat(a||i.D.text_color," px-4 py-2 rounded-full shadow-lg  transition"),e),onClick:u,children:r})},s=t=>{let{className:e,children:r,text_color:o,bg_color:u,link:s}=t;return(0,n.jsx)(a.default,{href:s,children:(0,n.jsx)("p",{className:(0,c.cn)("px-6 py-3 ".concat(u||i.D.bg_color," ").concat(o||i.D.text_color," rounded-md transition"),e),children:r})})}},6804:function(t,e,r){"use strict";r.d(e,{D:function(){return n},e:function(){return c}});let n={bg_color:"bg-blue-500",text_color:"text-white"},c=async t=>{try{await navigator.clipboard.writeText("https://itsjh1242.github.io/quiz-me/quizzes/"+t),alert("복사 완료")}catch(t){alert("복사 실패, "+t)}}},6273:function(t,e,r){"use strict";r.d(e,{cn:function(){return a}});var n=r(4839),c=r(6164);let a=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return(0,c.m6)((0,n.W)(e))}},18:function(t,e,r){"use strict";r.d(e,{Ap:function(){return s},I8:function(){return u},db:function(){return o}});var n=r(5236),c=r(5735),a=r(9842);let i=(0,n.C6)().length?(0,n.Mq)():(0,n.ZF)({apiKey:"AIzaSyAjJd8AOAqSmjCTlXLT73iIAx-HNyA8YKs",authDomain:"quizme-f366b.firebaseapp.com",projectId:"quizme-f366b",storageBucket:"quizme-f366b.appspot.com",messagingSenderId:"472802751724",appId:"1:472802751724:web:9ae831ce90bfcec734a1c9",measurementId:"G-5PY4F72WES"}),o=(0,a.ad)(i),u=(0,c.v0)(i),s=new c.hJ},6463:function(t,e,r){"use strict";var n=r(1169);r.o(n,"redirect")&&r.d(e,{redirect:function(){return n.redirect}}),r.o(n,"useRouter")&&r.d(e,{useRouter:function(){return n.useRouter}})}},function(t){t.O(0,[358,54,177,138,971,23,744],function(){return t(t.s=7378)}),_N_E=t.O()}]);